{"ast":null,"code":"var _jsxFileName = \"/home/qasim/projects/LMS/Library_Management_system/final/frontend/src/help_req.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './issued_books.css';\nimport Sfnav from './sfnavsect';\nimport baseURL from './routerlink';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Helpreq() {\n  _s();\n  const [booksinfo, setbooksinfo] = useState(\"\");\n  useEffect(() => {\n    console.log(\"sent\");\n    fetch(baseURL + \"/helpreq\").then(res => res.json()).then(data => {\n      setbooksinfo(data);\n    });\n  }, []);\n  const resolved = (e, sid, query) => {\n    const state = e.target.textContent;\n    console.log(state);\n    booksinfo.map(info => {\n      if (info.sid === sid && info.query === query) {\n        console.log(\"inside if \");\n        console.log({\n          state\n        });\n        fetch(baseURL + `/${state}`, {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            firstParam: sid,\n            secondParam: query\n          })\n        }).then(res => res.json()).then(data => {\n          setbooksinfo(data);\n        });\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"50px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Sfnav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"Help Requests\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      id: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Student \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Query\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), booksinfo && booksinfo.map((info, key) => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: [info.sid, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [info.query, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: info.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: event => resolved(event, info.sid, info.query),\n              children: info.status === \"closed\" ? \"Resolved\" : \"Unresolved\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 19\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Helpreq, \"fcw61p9B84TDgxi3DPFsSxIHC4I=\");\n_c = Helpreq;\nexport default Helpreq;\nvar _c;\n$RefreshReg$(_c, \"Helpreq\");","map":{"version":3,"names":["React","useEffect","useState","Sfnav","baseURL","Helpreq","booksinfo","setbooksinfo","console","log","fetch","then","res","json","data","resolved","e","sid","query","state","target","textContent","map","info","method","headers","body","JSON","stringify","firstParam","secondParam","marginTop","textAlign","key","status","event"],"sources":["/home/qasim/projects/LMS/Library_Management_system/final/frontend/src/help_req.js"],"sourcesContent":["import React, { useEffect, useState} from 'react'\nimport './issued_books.css'\nimport Sfnav from './sfnavsect'\nimport baseURL from './routerlink'\n\n\nfunction Helpreq() {\n  const [booksinfo, setbooksinfo]= useState(\"\")\n  useEffect(()=>{\n  console.log(\"sent\")\n  fetch(baseURL+\"/helpreq\")\n  .then((res)=>res.json())\n  .then((data)=>{  \n      setbooksinfo(data)\n  })\n  },[])\n  const resolved=(e,sid,query)=>{\n    const state=e.target.textContent\n    console.log(state)\n    booksinfo.map((info)=> {\n      if (info.sid === sid && info.query === query){\n          console.log(\"inside if \")\n          console.log({state})\n          fetch(baseURL+`/${state}`, {  \n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            firstParam: sid,\n            secondParam: query,\n        })}).then((res)=>res.json())\n        .then((data)=>{  \n        setbooksinfo(data)\n      })}\n      \n    })\n  }\n  return (\n    <div style={{marginTop:\"50px\"}}>\n    <Sfnav></Sfnav>\n      <h1 style={{textAlign: \"center\"}}>Help Requests</h1>\n        <table id='table'>\n            <tr>\n              <th>Student </th>\n              <th>Query</th>\n              <th>Status</th>\n            </tr>\n              \n              {booksinfo && booksinfo.map((info, key)=>{\n                return ( \n                  <tr key={key}>\n                    <td>{info.sid} </td>\n                    <td>{info.query} </td>\n                    <td>{info.status}</td>\n                    <td><button onClick={(event)=> resolved(event,info.sid,info.query)}>{info.status ===\"closed\"?\"Resolved\":\"Unresolved\"}</button></td>\n                  </tr>\n                 )\n              })}\n        </table>\n    </div>\n  )\n}\nexport default Helpreq"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}